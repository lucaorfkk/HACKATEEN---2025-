<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Carbon Techo | Monitoramento em Tempo Real</title>
    <meta name="description" content="Dashboard interativo com dados em tempo real de emissões de carbono, relatórios detalhados e insights inteligentes.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="cabecalho">
        <div class="conteiner-cabecalho">
            <a href="index.html" class="logo">
                <div class="icone-logo"><i class="fas fa-leaf"></i></div>
                <span>Carbon Techo</span>
            </a>
            
            <nav>
                <button class="botao-menu-mobile" aria-label="Menu" title="Menu" onclick="alternarMenuMobile()"><i class="fas fa-bars"></i></button>
                <ul id="menu-navegacao">
                    <li><a href="index.html"><i class="fas fa-home"></i> Início</a></li>
                    <li><a href="sobre.html"><i class="fas fa-info-circle"></i> Sobre Nós</a></li>
                    <li><a href="servicos.html"><i class="fas fa-cogs"></i> Serviços</a></li>
                    <li><a href="dashboard.html" class="ativo"><i class="fas fa-chart-bar"></i> Dashboard</a></li>
                    <li><a href="contato.html"><i class="fas fa-envelope"></i> Contato</a></li>
                    <li><a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="principal">
        <section class="hero" style="padding: 2rem 0;">
            <div class="conteiner">
                <h1>Dashboard de Emissões</h1>
                <p>Monitore em tempo real as emissões de carbono da sua empresa e acompanhe o progresso das suas metas sustentáveis.</p>
            </div>
        </section>

        <section class="conteiner-dashboard">
            <div class="conteiner">
                
<div class="controles-dashboard">
    <div class="grupo-controle">
        <label class="rotulo-controle" for="selecao-periodo">Período:</label>
        <select class="controle-formulario" id="selecao-periodo" onchange="atualizarDashboard()">
            <option value="hoje">Hoje</option>
            <option value="semana">Esta Semana</option>
            <option value="mes" selected>Este Mês</option>
            <option value="trimestre">Este Trimestre</option>
            <option value="ano">Este Ano</option>
        </select>
    </div>
    
    <div class="grupo-controle">
        <label class="rotulo-controle" for="selecao-unidade">Unidade:</label>
        <select class="controle-formulario" id="selecao-unidade" onchange="atualizarUnidades()">
            <option value="kg">kg CO₂</option>
            <option value="ton" selected>Toneladas CO₂</option>
            <option value="mt">Mil Toneladas CO₂</option>
        </select>
    </div>
    
    <div class="grupo-controle">
        <button class="botao botao-secundario" onclick="exportarRelatorio()">
            <i class="fas fa-download"></i> Exportar Relatório
        </button>
    </div>
    
    <div class="grupo-controle" style="margin-left: auto;">
        <label id="ultima-atualizacao" style="font-size: 0.9rem; color: var(--texto-cinza);">
            Última atualização: <span id="tempo-atualizacao">agora</span>
        </label>
    </div>
</div>

                <div class="carregando" id="carregando"></div>

                <!-- ESTATÍSTICAS PRINCIPAIS -->
                <div class="grade-dashboard linha-estatisticas">
                    
                    <div class="card-estatistica">
                        <span class="numero-estatistica" id="emissoes-totais">1,247.5</span>
                        <div class="rotulo-estatistica">Toneladas CO₂ (Mês)</div>
                        <div class="indicador-tendencia tendencia-baixa">
                            <i class="fas fa-arrow-down"></i> <span id="tendencia-total">8.3%</span> vs mês anterior
                        </div>
                    </div>
                    
                    <div class="card-estatistica">
                        <span class="numero-estatistica" id="meta-mensal">78%</span>
                        <div class="rotulo-estatistica">Meta do Mês</div>
                        <div class="indicador-tendencia tendencia-alta">
                            <i class="fas fa-arrow-up"></i> <span id="tendencia-meta">12%</span> progresso
                        </div>
                    </div>
                    
                    <div class="card-estatistica">
                        <span class="numero-estatistica" id="economia">R$ 89,340</span>
                        <div class="rotulo-estatistica">Economia Alcançada</div>
                        <div class="indicador-tendencia tendencia-baixa">
                            <i class="fas fa-arrow-down"></i> <span id="tendencia-economia">15.7%</span> redução de custos
                        </div>
                    </div>
                    
                    <div class="card-estatistica">
                        <span class="numero-estatistica" id="pontos-monitoramento">47</span>
                        <div class="rotulo-estatistica">Pontos Monitorados</div>
                        <div class="indicador-tendencia tendencia-estavel">
                            <i class="fas fa-minus"></i> <span id="tendencia-pontos">100%</span> operacionais
                        </div>
                    </div>
                </div>

                <div class="grade-dashboard linha-principal">
                    
                    <!-- GRÁFICO PRINCIPAL DE EMISSÕES -->
                    <div class="card-dashboard">
                        <div class="cabecalho-card">
                            <h3 class="titulo-card">Emissões por Período</h3>
                            <div class="indicador-tendencia-grafico tendencia-baixa">
                                Redução de 23% este trimestre
                            </div>
                        </div>
                        
                        <!-- ÁREA DO GRÁFICO -->
                        <div class="area-grafico">
                            <div class="placeholder-grafico">
                                <svg width="100%" height="100%" viewBox="0 0 400 200" style="background: transparent;">
                                    <!-- GRID DO GRÁFICO -->
                                    <defs>
                                        <pattern id="grid" width="40" height="20" patternUnits="userSpaceOnUse">
                                            <path d="M 40 0 L 0 0 0 20" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#grid)" />
                                    
                                    <!-- LINHA PRINCIPAL DO GRÁFICO -->
                                    <polyline fill="none" stroke="var(--cor-secundaria)" stroke-width="3"
                                        points="20,150 70,140 120,120 170,100 220,90 270,85 320,75 370,70"/>
                                    
                                    <!-- ÁREA PREENCHIDA -->
                                    <polygon fill="rgba(74, 155, 62, 0.1)" stroke="none"
                                        points="20,150 70,140 120,120 170,100 220,90 270,85 320,75 370,70 370,180 20,180"/>
                                    
                                    <!-- PONTOS DE DADOS -->
                                    <circle cx="20" cy="150" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="70" cy="140" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="120" cy="120" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="170" cy="100" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="220" cy="90" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="270" cy="85" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="320" cy="75" r="4" fill="var(--cor-secundaria)"/>
                                    <circle cx="370" cy="70" r="4" fill="var(--cor-destaque)"/>
                                    
                                    <!-- LABELS DOS MESES -->
                                    <text x="20" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Jan</text>
                                    <text x="70" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Fev</text>
                                    <text x="120" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Mar</text>
                                    <text x="170" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Abr</text>
                                    <text x="220" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Mai</text>
                                    <text x="270" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Jun</text>
                                    <text x="320" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Jul</text>
                                    <text x="370" y="195" text-anchor="middle" font-size="12" fill="var(--texto-cinza)">Ago</text>
                                </svg>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-dashboard">
                        <div class="cabecalho-card">
                            <h3 class="titulo-card">Atividades Recentes</h3>
                        </div>
                        
                        <div class="lista-atividades">
                            
                            <div class="item-atividade">
                                <div class="icone-atividade" style="background: rgba(39, 174, 96, 0.1); color: var(--sucesso);">
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="info-atividade">
                                    <h4>Meta mensal atingida</h4>
                                    <p>Setor de logística reduziu 15% das emissões</p>
                                </div>
                                <div class="tempo-atividade">2h</div>
                            </div>
                            
                            <div class="item-atividade">
                                <div class="icone-atividade" style="background: rgba(243, 156, 18, 0.1); color: var(--aviso);">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="info-atividade">
                                    <h4>Alerta de limite</h4>
                                    <p>Fábrica A se aproxima do limite diário</p>
                                </div>
                                <div class="tempo-atividade">4h</div>
                            </div>
                            
                            <div class="item-atividade">
                                <div class="icone-atividade" style="background: rgba(74, 155, 62, 0.1); color: var(--cor-secundaria);">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="info-atividade">
                                    <h4>Relatório gerado</h4>
                                    <p>Relatório semanal foi enviado por email</p>
                                </div>
                                <div class="tempo-atividade">1d</div>
                            </div>
                            
                            <div class="item-atividade">
                                <div class="icone-atividade" style="background: rgba(231, 76, 60, 0.1); color: var(--perigo);">
                                    <i class="fas fa-circle"></i>
                                </div>
                                <div class="info-atividade">
                                    <h4>Sensor offline</h4>
                                    <p>Sensor 07 - Armazém B precisa de manutenção</p>
                                </div>
                                <div class="tempo-atividade">2d</div>
                            </div>
                            
                            <div class="item-atividade">
                                <div class="icone-atividade" style="background: rgba(74, 155, 62, 0.1); color: var(--cor-secundaria);">
                                    <i class="fas fa-sync"></i>
                                </div>
                                <div class="info-atividade">
                                    <h4>Sistema atualizado</h4>
                                    <p>Nova versão da plataforma instalada</p>
                                </div>
                                <div class="tempo-atividade">3d</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grade-dashboard linha-principal">
                    
                    <!-- DISTRIBUIÇÃO POR SETOR -->
                    <div class="card-dashboard">
                        <div class="titulo-card">
                            <label class="titulo-card">Emissões por Setor</label>
                            <select class="controle-formulario" style="width: auto;" onchange="atualizarGraficoSecoes()">
                                <option>Este mês</option>
                                <option>Trimestre</option>
                                <option>Ano</option>
                            </select>
                        </div>
                        
                        <div class="area-grafico" style="height: 250px;">
                            <svg width="100%" height="100%" viewBox="0 0 300 200">
                                <!-- CÍRCULO BASE -->
                                <circle cx="150" cy="100" r="70" fill="transparent" stroke="#e0e0e0" stroke-width="2"/>
                                
                                <!-- Logística - 40% -->
                                <circle cx="150" cy="100" r="60" fill="transparent" 
                                        stroke="var(--cor-secundaria)" stroke-width="20"
                                        stroke-dasharray="150 225" stroke-dashoffset="0" transform="rotate(-90 150 100)"/>
                                
                                <!-- Produção - 35% -->
                                <circle cx="150" cy="100" r="60" fill="transparent" 
                                        stroke="var(--cor-destaque)" stroke-width="20"
                                        stroke-dasharray="131 244" stroke-dashoffset="-150" transform="rotate(-90 150 100)"/>
                                
                                <!-- Energia - 25% -->
                                <circle cx="150" cy="100" r="60" fill="transparent" 
                                        stroke="var(--cor-primaria)" stroke-width="20"
                                        stroke-dasharray="94 281" stroke-dashoffset="-281" transform="rotate(-90 150 100)"/>
                                
                                <!-- LEGENDA -->
                                <g class="legenda-grupo">
                                    <rect x="10" y="170" width="12" height="12" fill="var(--cor-secundaria)"/>
                                    <text x="28" y="181" font-size="12" fill="var(--texto-escuro)">Logística (40%)</text>
                                </g>
                                
                                <g class="legenda-grupo">
                                    <rect x="120" y="170" width="12" height="12" fill="var(--cor-destaque)"/>
                                    <text x="138" y="181" font-size="12" fill="var(--texto-escuro)">Produção (35%)</text>
                                </g>
                                
                                <g class="legenda-grupo">
                                    <rect x="230" y="170" width="12" height="12" fill="var(--cor-primaria)"/>
                                    <text x="248" y="181" font-size="12" fill="var(--texto-escuro)">Energia (25%)</text>
                                </g>
                            </svg>
                        </div>
                    </div>
                    
                    <div class="card-dashboard">
                        <div class="cabecalho-card">
                            <h3 class="titulo-card">Progresso das Metas</h3>
                            <span style="color: var(--cor-secundaria); font-size: 0.9rem;">Meta anual: -30%</span>
                        </div>
                        
                        <!-- BARRAS DE PROGRESSO -->
                        <div style="padding: 1rem 0;">
                            
                            <!-- META MENSAL -->
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 500; color: var(--texto-escuro);">Meta Mensal</span>
                                    <span class="porcentagem-meta" style="color: var(--sucesso); font-weight: 700; font-size: 1.1rem;" id="progresso-mensal">78%</span>
                                </div>
                                <div style="background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div style="background: linear-gradient(90deg, var(--sucesso) 0%, var(--cor-destaque) 100%); height: 100%; width: 78%; transition: width 0.5s ease;" id="barra-mensal"></div>
                                </div>
                            </div>
                            
                            <!-- META TRIMESTRAL -->
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 500; color: var(--texto-escuro);">Meta Trimestral</span>
                                    <span class="porcentagem-meta" style="color: var(--cor-secundaria); font-weight: 700; font-size: 1.1rem;" id="progresso-trimestral">65%</span>
                                </div>
                                <div style="background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div style="background: linear-gradient(90deg, var(--cor-secundaria) 0%, var(--cor-destaque) 100%); height: 100%; width: 65%; transition: width 0.5s ease;" id="barra-trimestral"></div>
                                </div>
                            </div>
                            
                            <!-- META ANUAL -->
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 500; color: var(--texto-escuro);">Meta Anual</span>
                                    <span class="porcentagem-meta" style="color: var(--aviso); font-weight: 700; font-size: 1.1rem;" id="progresso-anual">42%</span>
                                </div>
                                <div style="background: #e0e0e0; height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div style="background: linear-gradient(90deg, var(--aviso) 0%, var(--cor-destaque) 100%); height: 100%; width: 42%; transition: width 0.5s ease;" id="barra-anual"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- RESUMO DAS METAS -->
                        <div style="background: var(--verde-claro); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                            <h4 style="color: var(--cor-primaria); margin-bottom: 0.5rem; font-size: 1rem;">Resumo</h4>
                            <p style="color: var(--texto-escuro); font-size: 0.9rem; margin: 0;" id="texto-resumo">
                                Você está no caminho certo! Continue com as ações atuais para atingir a meta anual de redução de 30%.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ALERTAS E RECOMENDAÇÕES -->
                <div class="grade-dashboard" style="grid-template-columns: 1fr;">
                    <div class="card-dashboard">
                        <div class="cabecalho-card">
                            <h3 class="titulo-card">Alertas e Recomendações</h3>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                            
                            <div class="alerta alerta-aviso">
                                <strong><i class="fas fa-exclamation-triangle"></i> Atenção:</strong> As emissões da Fábrica A aumentaram 12% esta semana. 
                                Recomendamos verificar os equipamentos de filtragem.
                            </div>
                            
                            <div class="alerta alerta-sucesso">
                                <strong><i class="fas fa-check-circle"></i> Parabéns:</strong> O setor de logística superou a meta mensal! 
                                Continue otimizando as rotas de entrega.
                            </div>
                            
                            <div class="alerta alerta-perigo">
                                <strong><i class="fas fa-exclamation-circle"></i> Crítico:</strong> Sensor 07 está offline há 2 dias. 
                                Agende manutenção urgente para manter o monitoramento.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="rodape">
        <div class="conteudo-rodape">
            <div class="secao-rodape">
                <h3>Carbon Techo</h3>
                <p>Líder em soluções de monitoramento de carbono, ajudando empresas a alcançar suas metas de sustentabilidade através de tecnologia inovadora.</p>
                <div class="links-sociais">
                    <a href="#" class="link-social" title="Facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="link-social" title="Twitter" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="link-social" title="LinkedIn" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://www.instagram.com/carbontecho/" class="link-social" title="Instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            
            <div class="secao-rodape">
                <h3>Links Rápidos</h3>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Início</a></li>
                    <li><a href="sobre.html"><i class="fas fa-info-circle"></i> Sobre Nós</a></li>
                    <li><a href="servicos.html"><i class="fas fa-cogs"></i> Serviços</a></li>
                    <li><a href="dashboard.html"><i class="fas fa-chart-bar"></i> Dashboard</a></li>
                    <li><a href="contato.html"><i class="fas fa-envelope"></i> Contato</a></li>
                </ul>
            </div>
            
            <div class="secao-rodape">
                <h3>Nossos Serviços</h3>
                <ul>
                    <li><a href="#"><i class="fas fa-cloud"></i> Monitoramento de CO₂</a></li>
                    <li><a href="#"><i class="fas fa-file-alt"></i> Relatórios Personalizados</a></li>
                    <li><a href="#"><i class="fas fa-hands-helping"></i> Consultoria Sustentável</a></li>
                    <li><a href="#"><i class="fas fa-award"></i> Certificações Ambientais</a></li>
                </ul>
            </div>
            
            <div class="secao-rodape">
                <h3>Contato</h3>
                <p><i class="fas fa-map-marker-alt"></i> Av. Nossa Sra. de Fátima, 567 - Vila Israel, Americana - SP, 13478-540</p>
                <p><i class="fas fa-phone"></i> (19) 99835-5378</p>
                <p><i class="fas fa-envelope"></i> techocarbon@gmail.com</p>
                <p><i class="fas fa-globe"></i> hackateen-2025.vercel.app</p>
            </div>
        </div>
        
        <div class="rodape-inferior">
            <p>&copy; 2025 Carbon Techo - ETEC Polivalente Americana - Desenvolvido para um futuro sustentável.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>